<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ux_lib_source_script">
    <sys_ux_lib_source_script action="INSERT_OR_UPDATE">
        <config_option/>
        <engine>6</engine>
        <externals/>
        <inner_components>dd5e2790105d4df5145ce67000dc81ca,c5481f1eb3426fd20b6529795d2f335b,bba2fb7b1c41122389bb4354d498cefd,cd5582042d08270f1b197ce1513137e0,cec744bc27cd34daf9dfa538226efc3c,a92afd29e4d430f1f2b58b31b57b02c0,71a7a2e30d417827c753a04c51952b9c,4f4183c45abc5dbc8fc5d7f686ee174d,500e1c958a9e35b8429671c5182b9769,4d3ec3ae7b91ab0d803aa492c070b9fe,0643a9eccc0c6f5d5d2ff11bfa43c6fe</inner_components>
        <name>@recro/task-accordion</name>
        <script><![CDATA[var __TECTONIC__$recro_task_accordion=function(e){var t={};function a(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=18)}([function(e,t){e.exports=__TECTONIC__$servicenow_ui_renderer_snabbdom},function(e,t){e.exports=__TECTONIC__$servicenow_now_typeahead},function(e,t){e.exports=__TECTONIC__$servicenow_now_textarea},function(e,t){e.exports=__TECTONIC__$servicenow_now_rich_text},function(e,t){e.exports=__TECTONIC__$servicenow_now_modal},function(e,t){e.exports=__TECTONIC__$servicenow_now_input},function(e,t){e.exports=__TECTONIC__$servicenow_now_icon},function(e,t){e.exports=__TECTONIC__$servicenow_now_highlighted_value},function(e,t){e.exports=__TECTONIC__$servicenow_now_button},function(e,t){e.exports=__TECTONIC__$servicenow_now_alert},function(e,t){e.exports=__TECTONIC__$servicenow_now_accordion},function(e,t,a){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var a=function(e,t){var a=e[1]||"",n=e[3];if(!n)return a;if(t&&"function"==typeof btoa){var o=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(n),r=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[a].concat(r).concat([o]).join("\n")}return[a].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+a+"}":a}).join("")},t.i=function(e,a){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(n[r]=!0)}for(o=0;o<e.length;o++){var s=e[o];"number"==typeof s[0]&&n[s[0]]||(a&&!s[2]?s[2]=a:a&&(s[2]="("+s[2]+") and ("+a+")"),t.push(s))}},t}},function(e,t,a){(e.exports=a(11)(!1)).push([e.i,':host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,"Source Sans Pro",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.taskBtn{margin:1em}.inputBtnIcon{margin:.25em}.recro-accordion-item{background:#fcfcfc;border:solid;border-color:#e2e2e2;border-width:1px;border-radius:5px;margin-bottom:.25em}.recro-task-description{margin-bottom:3em}.recro-task-form{padding:.5em}.recro-form-wrapper{position:relative;margin:2em .5em 1em}.recro-form-wrapper>label{position:absolute;bottom:2.25em;left:.25em;font-family:var(--mv9-PvZT-PAtjp_jrktj--Pvmz-PrTAjO,var(--now-font-family,"Source Sans Pro",Arial));text-transform:var(--mv9-PvZT-PAtjp_jrktj--ztuz-zZrm1PvZT,none);color:RGB(var(--mv9-PvZT-PAtjp_jrktj--JvjvZ,var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116))))}.control-label{padding-left:1.25em}.rero-accordion-main{padding:.5em}input.form-control:invalid{border-color:RGB(var(--mv9-PvZT-PAtjp_jrktj--JvjvZ--AmsrjAp,var(--now-color_alert--critical-2,200,60,54)));border-style:solid}input.form-control:invalid~label{color:RGB(var(--mv9-PvZT-PAtjp_jrktj--JvjvZ--AmsrjAp,var(--now-color_alert--critical-2,200,60,54)))}',""])},function(e,t,a){var n=a(12);e.exports="string"==typeof n?n:n.toString()},function(e,t){e.exports=__TECTONIC__$servicenow_ui_effect_http},function(e,t){e.exports=__TECTONIC__$servicenow_ui_core},function(e,t,a){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=(a(0),a(0)),r=c(o),s=a(15),i=a(14),l=c(a(13));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}a(10),a(9),a(8),a(7),a(6),a(5),a(4),a(3),a(2),a(1);(0,s.createCustomElement)("recro-task-accordion",{actionHandlers:{"TASK_BUTTON#SAVE":(0,i.createHttpEffect)("api/now/table/:table/:id",{batch:!1,method:"PUT",headers:{Accepts:"application/json","Content-Type":"application/json"},pathParams:["table","id"],dataParam:"data",successActionType:"TASK_BUTTON_SAVE_SUCCESS"}),TASK_BUTTON_SAVE_SUCCESS:function(e){e.action;var t=e.dispatch,a=e.updateState;e.state,e.properties;console.info("SAVE SUCCESS"),t("TASK_ACCORDION_REFRESH"),a({isTaskObjectEqual:!0}),a({isAlertOpen:!0})},TASK_ACCORDION_STATUS_REFRESH:function(e){e.action,e.dispatch;var t=e.updateProperties,a=(e.state,e.properties);t({statusItems:{items:[].concat(u(a.statusItems.items))}})},"NOW_ACCORDION_ITEM#CLICKED":function(e){var t=e.action,a=e.dispatch,o=e.updateState,r=e.state;e.properties;if(!r.selectedTask.sys_id){var s=n({},t.payload);o({selectedTask:s}),o({selectedTaskClean:s})}if(r.selectedTask.sys_id&&r.selectedTask.sys_id.value!==t.payload.sys_id.value){var i=n({},t.payload);o({selectedTask:i}),o({selectedTaskClean:i}),a("TASK_ACCORDION_STATUS_REFRESH")}},SAVE_BUTTON_WATCHED:function(e){e.action;var t=e.dispatch,a=(e.updateState,e.state),n=e.properties,o=function(e,t){return Object.keys(t).every(function(a){return a in e&&e[a].value===t[a].value})}(a.selectedTask,a.selectedTaskClean),r=function(e){if("Exception Approved"!==e.status.value)return["url"].every(function(t){return""!==e[t].value&&null!==e[t].value});return["justification","exception_approval_date","exception_approvers"].every(function(t){return""!==e[t].value&&null!==e[t].value})}(a.selectedTask);n.debugMode&&(console.debug("object is the same:",o),console.debug("object is valid:",r)),t("SAVE_BUTTON_UPDATE_REQUEST",!1===o?{path:"isTaskObjectEqual",value:!1}:{path:"isTaskObjectEqual",value:!0}),t("SAVE_BUTTON_UPDATE_REQUEST",!0===r?{path:"isTaskValid",value:!0}:{path:"isTaskValid",value:!1})},SAVE_BUTTON_UPDATE_REQUEST:function(e){var t=e.action,a=(e.dispatch,e.updateState),n=(e.state,e.properties,t.payload);a({path:n.path,value:n.value,operation:"set"})},"NOW_INPUT_URL#INVALID_SET":function(e){var t=e.action,a=(e.dispatch,e.updateState),n=(e.state,e.properties),o=t.payload,r=o.name,s=o.value,i=o.fieldValue;n.debugMode&&(console.debug("name:",r),console.debug("invalid:",s),console.debug("value:",i)),a({path:"isTaskValid",value:!1,operation:"set"})},"NOW_INPUT_URL#VALUE_SET":function(e){var t=e.action,a=e.dispatch,n=e.updateState,o=(e.state,e.properties),r=t.payload,s=r.name,i=r.value;o.debugMode&&(console.debug("name:",s),console.debug("value:",i)),n({path:"selectedTask."+s+".value",value:i,operation:"set"}),a("SAVE_BUTTON_WATCHED")},"NOW_TYPEAHEAD_MULTI#INVALID_SET":function(e){var t=e.action,a=(e.dispatch,e.updateState),n=(e.state,e.properties),o=t.payload,r=o.name,s=o.value,i=o.fieldValue;n.debugMode&&(console.debug("name:",r),console.debug("invalid:",s),console.debug("value:",i)),a({path:"isTaskValid",value:!1,operation:"set"})},"NOW_TYPEAHEAD_MULTI#SELECTED_ITEMS_SET":function(e){var t=e.action,a=e.dispatch,n=e.updateState,o=(e.state,e.properties),r=t.payload,s=r.name,i=r.value,l=i.reduce(function(e,t,a,n){return""===e?""+t.id:e+","+t.id},""),c=i.reduce(function(e,t,a){return""===e?""+t.label:e+","+t.label},"");o.debugMode&&(console.debug("name:",s),console.debug("value:",i),console.debug("newVal:",l),console.debug("newDisplayvalue:",c)),n({path:"selectedTask."+s+".value",value:l,operation:"set"}),n({path:"selectedTask."+s+".displayValue",value:c,operation:"set"}),a("SAVE_BUTTON_WATCHED")},"NOW_MODAL#OPENED_SET":function(e){var t=e.action,a=(e.dispatch,e.updateState),n=(e.state,e.properties),o=t.payload.value;n.debugMode&&console.debug("value:",o),a({path:"isModalOpen",value:!1,operation:"set"})},"NOW_RECORD_LIST_CONNECTED#ROW_CLICKED":function(e){var t=e.action,a=e.dispatch,n=e.updateState,o=e.state,r=e.properties,s=t.payload,i={id:s.sys_id,label:s.row.displayValue.value};r.debugMode&&console.debug("approver item:",i);var l=o.selectedTask.exception_approvers.value.split(",").map(function(e,t){return{id:e,label:o.selectedTask.exception_approvers.displayValue.split(",")[t]}});a("NOW_TYPEAHEAD_MULTI#SELECTED_ITEMS_SET",{name:"exception_approvers",value:[].concat(u(l),[i])}),n({path:"isModalOpen",value:!1,operation:"set"})}},initialState:{selectedTask:{},isAlertOpen:!1,isModalOpen:!1,isTaskObjectEqual:!0,isTaskValid:!1},properties:{data:{default:[]},statusItems:{default:[]},approverItems:{default:[]},debugMode:{default:!1},textAreaRows:{default:3},tableName:{default:""}},renderer:{type:r.default},view:function(e,t){var a=t.updateState,n=t.dispatch,r=e.properties,s=[].concat(u(r.data));function i(){var t=function(e){return Object.keys(e).reduce(function(t,a){return e[a].value&&(t[a]=e[a].value),t},{})}(e.selectedTask);n("TASK_BUTTON#SAVE",{data:JSON.stringify(t),id:t.sys_id,table:r.tableName})}function l(e,t,o){r.debugMode&&console.debug("value:",t),a({path:e,value:t,operation:"set"}),n("SAVE_BUTTON_WATCHED")}var c=r.debugMode?(0,o.createElement)("div",null,JSON.stringify(e.selectedTask),(0,o.createElement)("br",null)):(0,o.createElement)("div",null),p=s.map(function(t){var s=r.statusItems.items.map(function(e){return(0,o.createElement)("option",{key:e.id,value:e.id,selected:t.status.value===e.id},e.label)}),c=r.approverItems.items,u=e.selectedTask.status&&"Exception Approved"===e.selectedTask.status.value?(0,o.createElement)("div",null,(0,o.createElement)("div",{className:"recro-form-wrapper"},(0,o.createElement)("input",{className:"form-control",name:"exception_approval_date",type:"date",required:e.selectedTask.status&&"Exception Approved"===e.selectedTask.status.value,invalid:e.selectedTask.exception_approval_date&&!e.selectedTask.exception_approval_date.value,"on-input":function(e){l("selectedTask.exception_approval_date.value",e.target.value)}}),(0,o.createElement)("label",{for:"exception_approval_date"},t.exception_approval_date.label," ",(0,o.createElement)("now-icon",{icon:"asterisk-fill",size:"sm"}))),(0,o.createElement)("now-textarea",{className:"recro-task-form",name:"justification",label:e.selectedTask.justification.label,value:t.justification.value,required:e.selectedTask.status&&"Exception Approved"===e.selectedTask.status.value,invalid:e.selectedTask.justification&&!e.selectedTask.justification.value,disabled:!t.justification.canWrite,rows:r.textAreaRows}),(0,o.createElement)("now-typeahead-multi",{"manage-selected-items":!0,items:c,"selected-items":e.selectedTask.exception_approvers.value?e.selectedTask.exception_approvers.value.split(",").map(function(t,a){return{id:t,label:e.selectedTask.exception_approvers.displayValue.split(",")[a]}}):[],className:"recro-task-form",name:"exception_approvers",label:t.exception_approvers.label,search:"initial",required:e.selectedTask.status&&"Exception Approved"===e.selectedTask.status.value,invalid:e.selectedTask.exception_approvers&&!e.selectedTask.exception_approvers.value,disabled:!t.exception_approvers.canWrite},(0,o.createElement)("now-button",{"on-click":function(){return a({isModalOpen:!0})},slot:"end",icon:"magnifying-glass-plus-outline",size:"sm",className:"inputBtnIcon","tooltip-content":"Search record"}))):(0,o.createElement)("now-input-url",{className:"recro-task-form",value:t.url.value,label:t.url.label,placeholder:"https://",name:"url",required:e.selectedTask.status&&"Exception Approved"!==e.selectedTask.status.value});return(0,o.createElement)("now-accordion-item",{className:"recro-accordion-item","on-click":function(e){return function(e){n("NOW_ACCORDION_ITEM#CLICKED",e)}(t)},header:{label:t.task_catalog_ref.displayValue,variant:"secondary",size:"sm"},key:t.sys_id.value,caption:{label:t.is_required.value?"Required":"Optional",variant:"secondary",style:"italic"}},(0,o.createElement)("now-highlighted-value",{slot:"metadata",label:t.status.value,variant:"tertiary"}),(0,o.createElement)("div",{slot:"content"},(0,o.createElement)("div",{className:"recro-task-description"},(0,o.createElement)("now-rich-text",{html:t.task_catalog_ref._reference?t.task_catalog_ref._reference.task_description.value:"<h5>Test Description</h5>"})),(0,o.createElement)("div",{className:"recro-form-wrapper"},(0,o.createElement)("select",{className:"form-control",name:"status",value:e.selectedTask.status?e.selectedTask.status.value:t.status.value,"on-change":function(e){return l("selectedTask.status.value",e.target.value)}},s),(0,o.createElement)("label",{for:"status"},t.status.label)),u,(0,o.createElement)("div",{className:"taskBtnBar"},(0,o.createElement)("now-button",{"on-click":function(){return i()},className:"taskBtn",label:"Save",variant:"primary",size:"md",icon:"","config-aria":{},"tooltip-content":"",disabled:e.isTaskObjectEqual||!1===e.isTaskValid}),e.isAlertOpen?(0,o.createElement)("now-alert",{status:"positive",icon:"exclamation-triangle-fill",header:"Success:",content:"Task was updated."}):(0,o.createElement)("span",null))))});return(0,o.createElement)("div",{className:"rero-accordion-main"},(0,o.createElement)("now-accordion",{"expand-single":!0,"heading-level":"2","trigger-icon":{type:"chevron",position:"start"}},p,c),(0,o.createElement)("now-modal",{"manage-opened":!0,opened:e.isModalOpen,size:"lg","header-label":"Users"},(0,o.createElement)("now-record-list-connected",{"hide-header":!0,"hide-row-selector":!0,"hide-quick-edit":!0,"hide-inline-editing":!0,limit:"10",table:"sys_user",columns:"name, email"})))},styles:l.default})},function(e,t,a){"use strict";a(16)},function(e,t,a){e.exports=a(17)}]);]]></script>
        <script_link/>
        <sys_class_name>sys_ux_lib_source_script</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-12-08 20:38:54</sys_created_on>
        <sys_id>10bf91d010ca296242a83423668431fe</sys_id>
        <sys_mod_count>455973</sys_mod_count>
        <sys_name>@recro/task-accordion</sys_name>
        <sys_package display_value="@recro/task-accordion" source="x_recro_recro_ta_0">bad244711b5881d061aaea84604bcbc4</sys_package>
        <sys_policy/>
        <sys_scope display_value="@recro/task-accordion">bad244711b5881d061aaea84604bcbc4</sys_scope>
        <sys_update_name>sys_ux_lib_source_script_10bf91d010ca296242a83423668431fe</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-01-06 20:37:47</sys_updated_on>
        <type>script</type>
    </sys_ux_lib_source_script>
</record_update>
